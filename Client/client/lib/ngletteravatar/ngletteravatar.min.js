"use strict";function getRandomColors(){for(var t="0123456789ABCDEF".split(""),e="#",a=0;6>a;a++)e+=t[Math.floor(16*Math.random())];return e}function getFirstAndLastName(t){var e=t.split(" ");if(e&&e.length>=2){var a=e[0],r=e[1];if(a&&r){var o=a.substr(0,1)+r.substr(0,1);return o}return t.substr(0,2)}}function getImgTag(t,e,a){var r=angular.element("<svg></svg>").attr({xmlns:"http://www.w3.org/2000/svg","pointer-events":"none",width:t,height:e}).css({"background-color":a,width:t+"px",height:e+"px"});return r}function getCharacterObject(t,e,a,r,o){var n=angular.element('<text text-anchor="middle"></text>').attr({y:"50%",x:"50%",dy:"0.35em","pointer-events":"auto",fill:e,"font-family":a}).html(t).css({"font-weight":r,"font-size":o+"px"});return n}var nla=angular.module("ngLetterAvatar",[]);nla.constant("defaultSettings",{alphabetcolors:["#5A8770","#B2B7BB","#6FA9AB","#F5AF29","#0088B9","#F18636","#D93A37","#A6B12E","#5C9BBC","#F5888D","#9A89B5","#407887","#9A89B5","#5A8770","#D33F33","#A2B01F","#F0B126","#0087BF","#F18636","#0087BF","#B2B7BB","#72ACAE","#9C8AB4","#5A8770","#EEB424","#407887"],textColor:"#ffffff",defaultBorder:"border:5px solid white",triangleup:"width: 0;height: 0;border-left: 50px solid transparent;border-right: 50px solid transparent;border-bottom: 100px solid;",fontsize:30,height:50,width:50,fontWeight:400,charCount:1,fontFamily:"HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica, Arial,Lucida Grande, sans-serif",base:"data:image/svg+xml;base64,",radius:"border-radius:50%;"}),nla.directive("ngLetterAvatar",["defaultSettings",function(t){return{restrict:"AE",replace:!0,scope:{alphabetcolors:"=alphabetcolors"},link:function(e,a,r){var o={charCount:r.charcount||t.charCount,data:r.data,textColor:t.textColor,height:r.height||t.height,width:r.width||t.width,fontsize:r.fontsize||t.fontsize,fontWeight:r.fontweight||t.fontWeight,fontFamily:r.fontfamily||t.fontFamily,avatarBorderStyle:r.avatarcustomborder,avatardefaultBorder:r.avatarborder,defaultBorder:t.defaultBorder,shape:r.shape,alphabetcolors:e.alphabetcolors||t.alphabetcolors},n="";if(2==o.charCount){var i=getFirstAndLastName(o.data.toUpperCase());n=i?i:o.data.substr(0,o.charCount).toUpperCase()}else n=o.data.substr(0,o.charCount).toUpperCase();var l=getCharacterObject(n,o.textColor,o.fontFamily,o.fontWeight,o.fontsize),s="",h="";n.charCodeAt(0)<65?h=getRandomColors():(s=Math.floor((n.charCodeAt(0)-65)%o.alphabetcolors.length),h=o.alphabetcolors[s]);var d=getImgTag(o.width,o.height,h);d.append(l);var c,f=angular.element("<div>").append(d.clone()).html(),u=window.btoa(unescape(encodeURIComponent(f))),g=t.base,p="";if(o.avatarBorderStyle?p=o.avatarBorderStyle:o.avatardefaultBorder&&(p=o.defaultBorder),o.shape){if("round"===o.shape){var v=t.radius+p;c="<img src="+g+u+" style='"+v+"' />"}}else c="<img src="+g+u+" style='"+p+"' />";a.replaceWith(c)}}}]);